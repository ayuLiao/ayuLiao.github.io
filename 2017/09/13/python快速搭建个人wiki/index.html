<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.4.0 -->
    <script>window.materialVersion = "1.4.0"</script>

    <!-- Title -->
    
    <title>
        
            python快速搭建个人wiki | 
        
        ayuLiao
    </title>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">
    
    
    
    
    
    
    
    
    
    

    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="theme-color" content="#0097A7">
    <meta name="author" content="ayuLiao">
    <meta name="description" itemprop="description" content="">
    <meta name="keywords" content=",python">

    <!-- Site Verification -->
    
    

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/favicon.png">
    <link rel="icon" sizes="192x192" href="/img/favicon.png">
    <link rel="apple-touch-icon" href="/img/favicon.png">

    <!--iOS -->
    <meta name="apple-mobile-web-app-title" content="Title">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="480">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="ayuLiao">

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://lmwen.top">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="python快速搭建个人wiki | ayuLiao">
    <meta property="og:image" content="/img/favicon.png" />
    <meta property="og:description" content="">
    <meta property="og:article:tag" content="python"> 

    
        <meta property="article:published_time" content="Wed Sep 13 2017 15:57:14 GMT+0800" />
        <meta property="article:modified_time" content="Wed Sep 13 2017 16:03:37 GMT+0800" />
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:title" content="python快速搭建个人wiki | ayuLiao">
    <meta name="twitter:description" content="">
    <meta name="twitter:image" content="/img/favicon.png">
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="http://lmwen.top" />

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="http://lmwen.top/2017/09/13/python快速搭建个人wiki/index.html" />
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "ayuLiao",
        "logo": "/img/favicon.png"
    },
    "author": {
        "@type": "Person",
        "name": "ayuLiao",
        "image": {
            "@type": "ImageObject",
            "url": "/img/favicon.png"
        },
        "description": "过往不恋，未来不惧，当下不乱"
    },
    "headline": "python快速搭建个人wiki",
    "url": "http://lmwen.top/2017/09/13/python快速搭建个人wiki/index.html",
    "datePublished": "Wed Sep 13 2017 15:57:14 GMT+0800",
    "dateModified": "Wed Sep 13 2017 16:03:37 GMT+0800",
    "description": "",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://lmwen.top"
    }
}
</script>


    

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(key){try{localStorage.removeItem(key)}catch(e){}};lsloader.setLS=function(key,val){try{localStorage.setItem(key,val)}catch(e){}};lsloader.getLS=function(key){var val="";try{val=localStorage.getItem(key)}catch(e){val=""}return val};versionString="/*"+materialVersion+"*/";lsloader.clean=function(){try{var keys=[];for(var i=0;i<localStorage.length;i++){keys.push(localStorage.key(i))}keys.forEach(function(key){var data=lsloader.getLS(key);if(data&&data.indexOf(versionString)===-1){lsloader.removeLS(key)}})}catch(e){}};lsloader.clean();lsloader.load=function(jsname,jspath,cssonload){cssonload=cssonload||function(){};var code;code=this.getLS(jsname);if(code&&code.indexOf(versionString)===-1){this.removeLS(jsname);this.requestResource(jsname,jspath,cssonload);return}if(code){var versionNumber=code.split(versionString)[0];if(versionNumber!=jspath){console.log("reload:"+jspath);this.removeLS(jsname);this.requestResource(jsname,jspath,cssonload);return}code=code.split(versionString)[1];if(/\.js?.+$/.test(versionNumber)){this.jsRunSequence.push({name:jsname,code:code});this.runjs(jspath,jsname,code)}else{document.getElementById(jsname).appendChild(document.createTextNode(code));cssonload()}}else{this.requestResource(jsname,jspath,cssonload)}};lsloader.requestResource=function(name,path,cssonload){var that=this;if(/\.js?.+$/.test(path)){this.iojs(path,name,function(path,name,code){that.setLS(name,path+versionString+code);that.runjs(path,name,code)})}else if(/\.css?.+$/.test(path)){this.iocss(path,name,function(code){document.getElementById(name).appendChild(document.createTextNode(code));that.setLS(name,path+versionString+code)},cssonload)}};lsloader.iojs=function(path,jsname,callback){var that=this;that.jsRunSequence.push({name:jsname,code:""});try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(path,jsname,xhr.response);return}}that.jsfallback(path,jsname)}};xhr.send(null)}catch(e){that.jsfallback(path,jsname)}};lsloader.iocss=function(path,jsname,callback,cssonload){var that=this;try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(xhr.response);cssonload();return}}that.cssfallback(path,jsname,cssonload)}};xhr.send(null)}catch(e){that.cssfallback(path,jsname,cssonload)}};lsloader.iofonts=function(path,jsname,callback,cssonload){var that=this;try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(xhr.response);cssonload();return}}that.cssfallback(path,jsname,cssonload)}};xhr.send(null)}catch(e){that.cssfallback(path,jsname,cssonload)}};lsloader.runjs=function(path,name,code){if(!!name&&!!code){for(var k in this.jsRunSequence){if(this.jsRunSequence[k].name==name){this.jsRunSequence[k].code=code}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var script=document.createElement("script");script.appendChild(document.createTextNode(this.jsRunSequence[0].code));script.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(script);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var that=this;var script=document.createElement("script");script.src=this.jsRunSequence[0].path;script.type="text/javascript";this.jsRunSequence[0].status="loading";script.onload=function(){that.jsRunSequence.shift();if(that.jsRunSequence.length>0){that.runjs()}};document.body.appendChild(script)}};lsloader.tagLoad=function(path,name){this.jsRunSequence.push({name:name,code:"",path:path,status:"failed"});this.runjs()};lsloader.jsfallback=function(path,name){if(!!this.jsnamemap[name]){return}else{this.jsnamemap[name]=name}for(var k in this.jsRunSequence){if(this.jsRunSequence[k].name==name){this.jsRunSequence[k].code="";this.jsRunSequence[k].status="failed";this.jsRunSequence[k].path=path}}this.runjs()};lsloader.cssfallback=function(path,name,cssonload){if(!!this.cssnamemap[name]){return}else{this.cssnamemap[name]=1}var link=document.createElement("link");link.type="text/css";link.href=path;link.rel="stylesheet";link.onload=link.onerror=cssonload;var root=document.getElementsByTagName("script")[0];root.parentNode.insertBefore(link,root)};lsloader.runInlineScript=function(scriptId,codeId){var code=document.getElementById(codeId).innerText;this.jsRunSequence.push({name:scriptId,code:code});this.runjs()};lsloader.loadCombo=function(jslist){var updateList="";var requestingModules={};for(var k in jslist){var LS=this.getLS(jslist[k].name);if(!!LS){var version=LS.split(versionString)[0];var code=LS.split(versionString)[1]}else{var version=""}if(version==jslist[k].path){this.jsRunSequence.push({name:jslist[k].name,code:code,path:jslist[k].path})}else{this.jsRunSequence.push({name:jslist[k].name,code:null,path:jslist[k].path,status:"comboloading"});requestingModules[jslist[k].name]=true;updateList+=(updateList==""?"":";")+jslist[k].path}}var that=this;if(!!updateList){var xhr=new XMLHttpRequest;xhr.open("get",combo+updateList,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){that.runCombo(xhr.response,requestingModules);return}}else{for(var i in that.jsRunSequence){if(requestingModules[that.jsRunSequence[i].name]){that.jsRunSequence[i].status="failed"}}that.runjs()}}};xhr.send(null)}this.runjs()};lsloader.runCombo=function(comboCode,requestingModules){comboCode=comboCode.split("/*combojs*/");comboCode.shift();for(var k in this.jsRunSequence){if(!!requestingModules[this.jsRunSequence[k].name]&&!!comboCode[0]){this.jsRunSequence[k].status="comboJS";this.jsRunSequence[k].code=comboCode[0];this.setLS(this.jsRunSequence[k].name,this.jsRunSequence[k].path+versionString+comboCode[0]);comboCode.shift()}}this.runjs()}})();</script>

    <!-- Import CSS & jQuery -->
    
        <style id="css/material.min.css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("css/material.min.css","/css/material.min.css?fJTiM/K1J3dWIruo3pxtAw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";})</script>
        <style id="css/style.min.css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("css/style.min.css","/css/style.min.css?oCSEO3ST+aEypEwttTDI9g==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";})</script>
        
        
            <style>
    
    
    
    .footer-sns-gplus {
        background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgY2xhc3M9Imljb24iIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiPjxwYXRoIGQ9Ik0xMzguNiA3OGMtMjIuNCA1LjItNTUuOCA0MC4yLTYwLjYgNjMuNC0xLjQgNi40LTIgMTI5LjgtMS42IDM2Ny42LjYgMjk4LjYgMSAzNTguOCAzLjQgMzYzIDExIDIwLjIgMjEuNiAzMi40IDM3LjIgNDMgMTUgMTAuMiAxNy40IDExLjIgMzMgMTMgMTEuMiAxLjQgMTM2IDIgMzY1IDEuNiAzMTQtLjYgMzQ4LjYtMSAzNTUtMy44IDE1LjgtNy4yIDMzLjgtMjIgNDMuMi0zNS40IDUuMi03LjQgMTAuOC0xNi42IDEyLjYtMjAuNCAyLjgtNi40IDMuMi00MC44IDMuOC0zNTQgLjQtMjIzLS4yLTM1My40LTEuNC0zNjUtMi0xNy0yLjYtMTguNi0xMy0zNC04LjYtMTIuNi0xNC4yLTE4LjQtMjUuMi0yNS44LTcuOC01LjQtMTcuNC0xMS0yMS42LTEyLjQtNi0yLjItNzIuOC0yLjYtMzY1LjQtMi42LTE5Ni44LjItMzYxIC44LTM2NC40IDEuOHpNNDMwIDI5NS40YzQwLjYgMTUuNCA1Ni42IDIzLjggNzIuNiAzOC40IDYuOCA2LjIgNy4yIDE1LjIgMSAyMy40LTYuMiA4LTMzLjYgMzMuOC0zOSAzNi42LTUuNiAyLjgtMTcuNiAyLjgtMjMuMi0uMi0yLjQtMS4yLTguMi01LjItMTMtOC44LTExLjItOC42LTI0LjYtMTEuMi01NS4yLTExLjItMjcuNCAwLTQwLjYgMi42LTUyLjIgMTAuNC00LjQgMi44LTEyLjIgNy42LTE3LjIgMTAuNi0yMyAxMy4yLTUxLjQgNTUtNTUuOCA4Mi40LTIuNiAxNS42LTIuNCAzNC44LjIgNTEgMi44IDE3LjQgMTkuOCA0OC44IDM1LjIgNjUuMiAxNiAxNi42IDQ1IDMzLjYgNjIuOCAzNi42IDI2LjggNC40IDY1LjggMS42IDc5LjQtNS44IDIwLjYtMTEuNCAzMS0xOSA0MS0zMC40IDE4LjgtMjEuNiAyMy40LTM0LjIgMTUuNi00My44LTMuOC00LjgtNC40LTQuOC01MS01LjgtNjAuOC0xLjItNTYuMiAyLjItNTYuMi00My4yIDAtMzIuNC4yLTMzLjIgNC44LTM3IDQuNC0zLjYgOS0zLjggOTItMy44IDc5IDAgODcuOC40IDk0LjIgMy42IDExLjIgNS42IDEzIDExLjQgMTIuOCA0My40IDAgMjUuNC0uOCAzMC44LTcuNiA1OC00IDE2LjYtOS44IDM0LTEyLjYgMzktMi44IDUtOC4yIDE0LjItMTEuNiAyMC42LTguNCAxNS40LTI3LjIgMzYuOC00MC44IDQ2LjYtNS44IDQuNC0xMy44IDEwLjItMTcuNiAxMy4yLTMuOCAzLTExIDctMTYuMiA4LjgtNS4yIDEuOC0xNi4yIDYuNC0yNC40IDEwLTIyLjQgOS42LTM0LjggMTEuNi03MyAxMS42LTM3LjYuMi00Ny0xLjQtNzEtMTItOC4yLTMuNi0xNy42LTcuMi0yMC44LTgtMTUuOC0zLjgtNjctNDUuMi03Ny44LTYyLjgtMi4yLTMuOC03LjYtMTEuNi0xMS44LTE3LjItNC4yLTUuNC05LTE0LTEwLjYtMTktMS44LTQuOC02LjItMTYtMTAtMjQuOC0zLjYtOC44LTcuOC0yMi4yLTkuMi0yOS42LTMuMi0xOC44LTEuNC03OS40IDIuOC05MS40IDEzLjgtNDAuNiAzNS42LTc4IDU4LjgtMTAwLjIgMTQtMTMuNiA0Ny4yLTM2LjQgNTgtMzkuOCA0LjItMS40IDEzLjQtNS4yIDIwLjYtOC40IDIyLTEwIDMyLjgtMTEuNiA3Ni0xMSAzMy44LjYgNDAuNCAxLjIgNTAgNC44em0zNDAuOCA4MC44YzggMy42IDkuNiAxMS4yIDkuMiAzOS4yLS42IDM0LjQtLjYgMzQgNSAzOS42IDQuOCA1IDUuNCA1IDM3LjYgNSA0My40IDAgNDQuNC44IDQzLjIgMzYuMi0uOCAxNy0xLjIgMTguNC02LjQgMjMtNS40IDQuNi02LjYgNC44LTM3LjYgNC44LTMxLjIgMC0zMiAuMi0zNi44IDUtNS42IDUuNC01LjYgNC40LTUgNDEuMi40IDI2LjQuMiAyNy40LTQuNiAzMy00LjggNS42LTYgNS44LTI0LjQgNi40LTIwLjguOC0yOS42LTEuNC0zMy40LTguNC0xLjQtMi42LTItMTUuNi0xLjgtMzUuNi40LTMxLjIuNC0zMS42LTQuNi0zNi42cy01LjYtNS0zNi01Yy0xOC44IDAtMzMtLjgtMzYtMi4yLTcuNi0zLjYtOS42LTExLjItOC44LTMzLjguOC0yOC4yLjQtMjggNDEtMjggNDUuNCAwIDQ1LjQgMCA0NC42LTQyLjYtLjYtMzMtLjYtMzMgNS0zOC40IDQuNC00LjYgNi4yLTUgMjQuOC01IDExIDAgMjIuMiAxIDI1IDIuMnoiLz48L3N2Zz4=);
    }
    
    
    
    
    
    .footer-sns-github {
        background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgY2xhc3M9Imljb24iIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiPjxwYXRoIGQ9Ik0xMzguNCA3OGMtNi40IDEuNC0yNi40IDE0LjItMzYgMjIuOC04IDcuMi0yMiAyOS44LTI0LjQgMzkuMi0xLjYgNi40LTIgMTEzLjItMS42IDM2OCAuNiAyOTkuNCAxIDM1OS44IDMuNCAzNjQgMTEgMjAuMiAyMS42IDMyLjQgMzcuMiA0MyAxNS42IDEwLjYgMTcuMiAxMS4yIDM0LjIgMTMuMiAxMC42IDEuMiA2My40IDEuNiAxMjcuNiAxLjRsMTA5LjYtLjYgNi02LjggNi4yLTYuOC0xLjItMjUuMmMtLjgtMTUuOC0uMi0zMy40IDEuNC00Ny4yIDMtMjUuNCAxLjQtMzYuMi02LTQzLjItNS00LjYtNi4yLTQuOC0zMC42LTQuMi0yNy42LjgtMjQgMS42LTY4LjgtMTYtOC42LTMuNC0yMi42LTE4LTI4LjQtMjkuOC0xMS40LTIyLjgtMjctNDUtMzkuMi01NS42LTE0LTEyLjItMTkuOC0yMC44LTE5LjgtMjguNiAwLTExLjYgMTMuNi0xMi42IDMzLjItMi40IDE2LjYgOC44IDIwLjggMTIuNCA0MC44IDM2LjIgMjQuMiAyOC42IDMxIDMzLjYgNTQgMzkuNiAxNS4yIDQgNDIuMiAzIDUxLjQtMS44IDktNC42IDE4LTE1LjIgMjQuNC0yOS4yIDExLjQtMjQuMiA3LjQtMzEuMi0yMC42LTM2LjgtOS44LTItMjkuMi04LTQzLjQtMTMuNC00MC40LTE1LjgtNjQuNi0zNy40LTg1LjQtNzYuMi0xMS42LTIxLjgtMTUuNC0zMy0xOC4yLTUzLjYtNC4yLTMyLjItNC44LTYwLjItMS40LTg0IDMuNC0yMy44IDYuOC0zMi44IDIwLjItNTQgNC02IDguOC0xNS42IDExLTIxLjQgMy44LTEwIDMuOC0xMS42IDEtMzAtNS4yLTM0LjItMy4yLTUyLjQgNy42LTcwLjIgNy4yLTEyLjIgMTUtMTcuMiAyNC4yLTE1LjggMTIuOCAyLjIgNTIgMTcuNCA2Ni44IDI2LjIgMjYgMTUgMjkgMTUuNCA4Mi40IDcuMiAyNC42LTMuOCAzMy44LTQuMiA2MC0zLjIgMTcgLjYgNDEuNCAzIDU0IDUuMiAzOC40IDYuNiA0OS42IDUuMiA3My0xMCA2LjYtNC4yIDE3LjQtOS40IDI0LTExLjYgNi42LTIuMiAxNi01LjggMjEtOC4yIDEzLTYgMjgtNS42IDM1LjYuOCAxMi40IDEwLjQgMTguNiA0MS40IDE0LjQgNzEuNi00LjQgMzAuNi0zIDM5LjQgOC40IDUzLjggMy40IDQuNCAxMS4yIDE5LjIgMTcuNCAzMy4yTDc3NSA0NDN2NzhsLTEwIDI4Yy0xNS4yIDQzLjItMzYuOCA3My4yLTY2LjIgOTIuOC0xMy40IDguOC01NyAyNS40LTc2LjggMjktMjguMiA1LjItMzMuMiAxMi42LTIyIDMyLjIgMTEuMiAxOS40IDEyLjQgMzIuOCAxMS42IDEyOS42bC0uNiA4NS44IDUuNCA0LjZjMy42IDMgOS4yIDUuMiAxNiA2IDUuOC44IDYwLjIgMSAxMjAuNi42IDEwOC40LS42IDExMC4yLS42IDExOS01IDI0LTExLjYgNDAtMjcuNCA1MS42LTUwLjZsNS40LTExIC42LTM0N2MuNC0yMjMtLjItMzUzLjQtMS40LTM2NS0yLTE3LTIuNi0xOC42LTEzLTM0LTEwLjYtMTUuNC0yMi44LTI2LjItNDMuMi0zNy4yLTQuMi0yLjQtNjQuNi0yLjgtMzY2LTMuMi0xOTguNiAwLTM2NCAuNC0zNjcuNiAxLjR6Ii8+PC9zdmc+);
    }
    
    
    
    
    
</style>

        
        <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-color: #F5F5F5;
      }

      /* blog_info bottom background */
      #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{
        background-color: #fff;
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->

    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"rel="stylesheet">


        <script>lsloader.load("js/jquery.min.js","/js/jquery.min.js?ezyEvm8ST5CGfpA+kFFi1g==")</script>
    
    
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Analytics -->
    

    <!-- Custom Head --><!-- hexo-inject:begin --><!-- hexo-inject:end -->
    
</head>


    
        <body id="scheme-Paradox" class="lazy">
            <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->

    <!-- Left aligned menu below button -->
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    
    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#简介"><span class="post-toc-number">1.</span> <span class="post-toc-text">简介</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#效果"><span class="post-toc-number">2.</span> <span class="post-toc-text">效果</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#项目结构"><span class="post-toc-number">3.</span> <span class="post-toc-text">项目结构</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#快速开搞"><span class="post-toc-number">4.</span> <span class="post-toc-text">快速开搞</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#基本配置"><span class="post-toc-number">4.1.</span> <span class="post-toc-text">基本配置</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#编写模型"><span class="post-toc-number">4.2.</span> <span class="post-toc-text">编写模型</span></a></li></ol></li></ol>
        <!--
        <li class="mdl-menu__item">
            Some Action
        </li>
        -->
    </ul>
    





<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        <!-- Custom Thumbnail -->
        <div class="post_thumbnail-custom mdl-card__media mdl-color-text--grey-50" style="background-image:url(http://onxxjmg4z.bkt.clouddn.com/%E5%BF%AB%E9%80%9Fwiki1.jpg)">
    
            <p class="article-headline-p">
                python快速搭建个人wiki
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/avatar.png" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>ayuLiao</strong>
        <span>9月 13, 2017</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/python/">python</a>
    </ul>
    

    <!-- Share -->
    <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=python快速搭建个人wiki&url=http://lmwen.top/2017/09/13/python快速搭建个人wiki/index.html&pic=&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=python快速搭建个人wiki&url=http://lmwen.top/2017/09/13/python快速搭建个人wiki/index.html&via=ayuLiao" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=http://lmwen.top/2017/09/13/python快速搭建个人wiki/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=http://lmwen.top/2017/09/13/python快速搭建个人wiki/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    
        <a class="post_share-link" href="https://www.linkedin.com/shareArticle?mini=true&url=http://lmwen.top/2017/09/13/python快速搭建个人wiki/index.html&title=python快速搭建个人wiki" target="_blank">
            <li class="mdl-menu__item">
                分享到 LinkedIn
            </li>
        </a>
    

    <!-- Share QQ -->
    

    <!-- Share Telegram -->
    
</ul>

</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>这次通过Python来开发一个wiki，其实很多公司内部都会有个wiki，用于共享信息，比如一些代码或者有价值的信息，公司内部的人可以参与编辑，将自己认为有意义的内容放到wiki上，最出名的wiki当然是维基百科，但是因为墙的原因，维基百科在国内是方面不到的，其实我们常用的百度百科也是就wiki，这次我们来开发一个自己的wiki，用来放自己的东西</p>
<p>本次的项目参考<a href="http://www.jianshu.com/p/9d5eaa1a0696" target="_blank" rel="external">用python搭建一个校园维基网站</a>，看了这篇博文，发现通过wagtail来搭建一个wiki还是挺酷的，所以就尝试一下，有兴趣可以看一下原文，再这里要感谢原文的作者提供的思路和开放的源代码</p>
<p>技术选型：<br>Python3.6<br>Django 1.11.5<br>wagtail 1.12.1</p>
<p>使用当下最新的</p>
<h2 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h2><p>先提一下，这篇文章配合Django的知识食用比较好咽下去，如果完全没有接触过Django，你可能看不明白</p>
<p>wiki首页<br><img src="http://obfs4iize.bkt.clouddn.com/wiki%E9%A6%96%E9%A1%B5.png" alt="wiki首页"></p>
<p>wiki标签页<br><img src="http://obfs4iize.bkt.clouddn.com/wiki%E6%A0%87%E7%AD%BE%E9%A1%B5.png" alt="wiki标签页"></p>
<p>wiki详情页<br><img src="http://obfs4iize.bkt.clouddn.com/wiki%E8%AF%A6%E6%83%85%E9%A1%B5.png" alt="wiki详情页"></p>
<p>前端使用了puress框架，其中已经有现成的布局给我们使用了，我们直接下载这些布局，然后通过Django的模板语言整合进入项目就ok了</p>
<p><img src="http://obfs4iize.bkt.clouddn.com/puress.png" alt="puress"></p>
<p>感谢开源</p>
<h2 id="项目结构"><a href="#项目结构" class="headerlink" title="项目结构"></a>项目结构</h2><p><img src="http://obfs4iize.bkt.clouddn.com/wiki%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84.png" alt="wiki项目结构.png"></p>
<p>简单解释一下这个结构</p>
<p>genius文件夹下的settings文件夹放项目的配置信息，base.py是基础配置信息，base.py跟Django的配置文件几乎一样，dev.py是开发环境的配置，production.py是生产环境的配置，当然，无论是开发环境还是生产环境都需要base.py这个基础配置</p>
<p>genius文件夹中还有urls.py和wsgi.py文件，urls.py其实就是主路由（Django的路由机制）、wsig.py其实就是wsgi接口</p>
<p>search目录用于项目内容的搜索，简单的理解就是一个搜索引擎，wagtail默认是有搜索的，这个搜索功能建立在Django的QuerySet API之上，所以wagtail默认的搜索功能就可以搜索到任何Django QuerySet，我们还可以集成Elasticsearch用于搜索</p>
<blockquote>
<p>Elasticsearch是一个实时分布式搜索和分析引擎。它让你以前所未有的速度处理大数据成为可能。</p>
</blockquote>
<p>wagtail搜索的内容可以看它的文档，文档中介绍了wagtail搜索功能的用法<br><a href="http://python.usyiyi.cn/documents/wagtail_111/index.html#searching" target="_blank" rel="external">wagtail搜索</a></p>
<p>wiki目录就是我们项目开发的主目录，如果你熟悉Django，你可能会发现wiki目录中没有views.py这个文件，这也是wagtail的一个功能，后台界面的布局和前端的布局完全可以和模块链接，不用再写处理视图的函数</p>
<p>最后就是manage.py这个文件，这个文件就是Django项目通用的管理脚本，如果你是在PyCharm中直接创建Django项目的话，就可以直接在PyCharm调用manage.py来完成命令</p>
<h2 id="快速开搞"><a href="#快速开搞" class="headerlink" title="快速开搞"></a>快速开搞</h2><p>首先我们创建项目</p>
<p>先安装wagtail，默认会安装最新版本的wagtail，此时我们的最新版是1.12.1<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pip install wagtail</div></pre></td></tr></table></figure></p>
<p>然后直接通过wagtail来创建项目就好了<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">wagtail start genius</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">C:\Users\ayuliao:.</div><div class="line">|   manage.py</div><div class="line">|   requirements.txt</div><div class="line">|   </div><div class="line">+---genius</div><div class="line">|   |   urls.py</div><div class="line">|   |   wsgi.py</div><div class="line">|   |   __init__.py</div><div class="line">|   |   </div><div class="line">|   +---settings</div><div class="line">|   |       base.py</div><div class="line">|   |       dev.py</div><div class="line">|   |       production.py</div><div class="line">|   |       __init__.py</div><div class="line">|   |       </div><div class="line">|   +---static</div><div class="line">|   |   +---css</div><div class="line">|   |   |       genius.css</div><div class="line">|   |   |       </div><div class="line">|   |   \---js</div><div class="line">|   |           genius.js</div><div class="line">|   |           </div><div class="line">|   \---templates</div><div class="line">|           404.html</div><div class="line">|           500.html</div><div class="line">|           base.html</div><div class="line">|           </div><div class="line">+---home</div><div class="line">|   |   models.py</div><div class="line">|   |   __init__.py</div><div class="line">|   |   </div><div class="line">|   +---migrations</div><div class="line">|   |       0001_initial.py</div><div class="line">|   |       0002_create_homepage.py</div><div class="line">|   |       __init__.py</div><div class="line">|   |       </div><div class="line">|   \---templates</div><div class="line">|       \---home</div><div class="line">|               home_page.html</div><div class="line">|               </div><div class="line">\---search</div><div class="line">  |   views.py</div><div class="line">  |   __init__.py</div><div class="line">  |   </div><div class="line">  \---templates</div><div class="line">      \---search</div><div class="line">              search.html</div></pre></td></tr></table></figure>
<p>这些文件的作用前面简单的讲过了，这里需要提一下的是，在wagtail中，前端界面的布局（也就是html）跟模板文件默认是关联的，比如home/models.py文件中有个HomePage类，那么与这个类关联的前端界面，也成为页面模板就是home/templates/home/home<em>page.html，关联规则也很简单，就是models.py中定义的类名使用驼峰写法，那么对于的模板就使用下划线”</em>“将驼峰分开</p>
<p>我们可以先运行一下这个项目<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">python manage.py migrate #迁移数据库</div><div class="line">python manage.py runserver #开发环境下运行项目</div></pre></td></tr></table></figure></p>
<p><img src="http://obfs4iize.bkt.clouddn.com/wagtail%E9%BB%98%E8%AE%A4%E7%95%8C%E9%9D%A2.png" alt="wagtail默认界面.png"></p>
<p>看到上图就说明wagtail没问题</p>
<p>接着我们就正是开始项目</p>
<h3 id="基本配置"><a href="#基本配置" class="headerlink" title="基本配置"></a>基本配置</h3><p>1.清空数据库或者直接删除db.sqlite3这个数据库<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">python manage.py flush</div></pre></td></tr></table></figure></p>
<p>2.删除home这个目录，然后创建一个wiki目录，wiki目录中的文件结构像上面项目结构图一样，表示wiki 应用，然后再genius/settings/base.py这个文件下注册wiki这个应用同时将此前注册的home删除<br><img src="http://obfs4iize.bkt.clouddn.com/%E6%B3%A8%E5%86%8C%E5%BA%94%E7%94%A8.png" alt="注册应用.png"></p>
<p>3.修改项目默认语言和时间设置，同样编写genius/settings/base.py这个文件<br><img src="http://obfs4iize.bkt.clouddn.com/%E9%A1%B9%E7%9B%AE%E8%AF%AD%E8%A8%80.png" alt="项目语言.png"></p>
<h3 id="编写模型"><a href="#编写模型" class="headerlink" title="编写模型"></a>编写模型</h3><p>编写所以界面的模型，代码比较长，但是都很好理解</p>
<p>wiki/models.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> absolute_import, unicode_literals</div><div class="line"></div><div class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</div><div class="line"></div><div class="line"><span class="keyword">from</span> modelcluster.contrib.taggit <span class="keyword">import</span> ClusterTaggableManager</div><div class="line"><span class="keyword">from</span> modelcluster.fields <span class="keyword">import</span> ParentalKey</div><div class="line"><span class="keyword">from</span> taggit.models <span class="keyword">import</span> TaggedItemBase, Tag</div><div class="line"><span class="keyword">from</span> wagtail.wagtailcore.blocks <span class="keyword">import</span> BaseStreamBlock</div><div class="line"><span class="keyword">from</span> wagtail.wagtailcore.fields <span class="keyword">import</span> StreamField</div><div class="line"><span class="keyword">from</span> wagtail.wagtailcore.models <span class="keyword">import</span> Page, Orderable</div><div class="line"><span class="keyword">from</span> wagtail.wagtailadmin.edit_handlers <span class="keyword">import</span> (</div><div class="line">    FieldPanel, InlinePanel, MultiFieldPanel, StreamFieldPanel)</div><div class="line"><span class="keyword">from</span> wagtail.wagtailimages.edit_handlers <span class="keyword">import</span> ImageChooserPanel</div><div class="line"><span class="comment"># 内容搜索</span></div><div class="line"><span class="keyword">from</span> wagtail.wagtailsearch <span class="keyword">import</span> index</div><div class="line"></div><div class="line"><span class="keyword">from</span> .umodels <span class="keyword">import</span> RelatedLink</div><div class="line"><span class="keyword">from</span> .blocks <span class="keyword">import</span> *</div><div class="line"><span class="keyword">from</span> .snippets <span class="keyword">import</span> *</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment"># ------------------------主页-------------------------</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">WikiHome</span><span class="params">(Page)</span>:</span></div><div class="line">    logoname = models.CharField(</div><div class="line">        max_length=<span class="number">255</span>,</div><div class="line">        help_text=<span class="string">u"显示在左上角的网页名称"</span></div><div class="line">    )</div><div class="line">    image = models.ForeignKey(</div><div class="line">        <span class="string">'wagtailimages.Image'</span>,</div><div class="line">        null=<span class="keyword">True</span>,</div><div class="line">        blank=<span class="keyword">True</span>,</div><div class="line">        on_delete=models.SET_NULL,</div><div class="line">        related_name=<span class="string">'+'</span>,</div><div class="line">        help_text=<span class="string">u"大幅背景图"</span></div><div class="line">    )</div><div class="line">    intro = models.TextField(</div><div class="line">        blank=<span class="keyword">True</span>,</div><div class="line">        help_text=<span class="string">u"下方简单口号"</span></div><div class="line">    )</div><div class="line"></div><div class="line">    content_panels = Page.content_panels + [</div><div class="line">        FieldPanel(<span class="string">'logoname'</span>),</div><div class="line">        <span class="comment"># toplinks与WikiHomeTopLink通过related_name相连接</span></div><div class="line">        InlinePanel(<span class="string">'toplinks'</span>, label=<span class="string">"顶部右侧链接"</span>),</div><div class="line">        ImageChooserPanel(<span class="string">'image'</span>),</div><div class="line">        FieldPanel(<span class="string">'intro'</span>, classname=<span class="string">"full"</span>),</div><div class="line">        InlinePanel(<span class="string">'little_intros'</span>, label=<span class="string">"下方一排推广简述"</span>),</div><div class="line">    ]</div><div class="line"></div><div class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Meta</span>:</span></div><div class="line">        verbose_name = <span class="string">u'校园百科主页'</span></div><div class="line">        verbose_name_plural = verbose_name</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">WikiHomeTopLink</span><span class="params">(Orderable, RelatedLink)</span>:</span></div><div class="line">    <span class="comment"># ParentalKey表示WikiHomeTopLink是WikiHome的子类</span></div><div class="line">    page = ParentalKey(<span class="string">'wiki.WikiHome'</span>, related_name=<span class="string">'toplinks'</span>)</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">WikiHomeLittleIntros</span><span class="params">(Orderable)</span>:</span></div><div class="line">    page = ParentalKey(WikiHome, related_name=<span class="string">'little_intros'</span>)</div><div class="line">    fa_name = models.CharField(blank=<span class="keyword">True</span>, max_length=<span class="number">250</span>,</div><div class="line">                               help_text=<span class="string">u'''FontAwesome图标类名</span></div><div class="line"><span class="string">                               - 参考fontawesome.io/icons/'''</span>)</div><div class="line">    title = models.CharField(blank=<span class="keyword">True</span>, max_length=<span class="number">250</span>,</div><div class="line">                             help_text=<span class="string">u"小标题"</span>)</div><div class="line">    caption = models.CharField(blank=<span class="keyword">True</span>, max_length=<span class="number">1000</span>,</div><div class="line">                               help_text=<span class="string">u"简述"</span>)</div><div class="line"></div><div class="line">    panels = [</div><div class="line">        FieldPanel(<span class="string">'fa_name'</span>),</div><div class="line">        FieldPanel(<span class="string">'title'</span>),</div><div class="line">        FieldPanel(<span class="string">'caption'</span>),</div><div class="line">    ]</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment"># ------------------------单维基页面-----------------------</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">WikiPageTag</span><span class="params">(TaggedItemBase)</span>:</span></div><div class="line">    <span class="comment"># WikiPageTag是WikiPage的子类</span></div><div class="line">    content_object = ParentalKey(<span class="string">'WikiPage'</span>, related_name=<span class="string">'tagged_items'</span>)</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">WikiPageTailLink</span><span class="params">(Orderable, RelatedLink)</span>:</span></div><div class="line">    <span class="comment"># WikiPageTailLink是WikiPage的子类</span></div><div class="line">    page = ParentalKey(<span class="string">'WikiPage'</span>, related_name=<span class="string">'related_links'</span>)</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">WikiPage</span><span class="params">(Page)</span>:</span></div><div class="line">    date = models.DateField(<span class="string">u"页面发布时间"</span>,</div><div class="line">                            blank=<span class="keyword">True</span>,</div><div class="line">                            null=<span class="keyword">True</span>,</div><div class="line">                            default=datetime.now)</div><div class="line">    tags = ClusterTaggableManager(through=WikiPageTag,</div><div class="line">                                  blank=<span class="keyword">True</span>,</div><div class="line">                                  help_text=<span class="string">u"多个标签以空格符分隔"</span>)</div><div class="line">    author = models.CharField(max_length=<span class="number">255</span>,</div><div class="line">                              help_text=<span class="string">u"作者，请添加自己的名字"</span>,</div><div class="line">                              blank=<span class="keyword">True</span>,</div><div class="line">                              null=<span class="keyword">True</span>)</div><div class="line">    subtitle = models.CharField(max_length=<span class="number">255</span>,</div><div class="line">                                help_text=<span class="string">u"副标题"</span>,</div><div class="line">                                blank=<span class="keyword">True</span>,</div><div class="line">                                null=<span class="keyword">True</span>)</div><div class="line">    body = StreamField(BaseStreamBlock(),</div><div class="line">                       blank=<span class="keyword">True</span>,</div><div class="line">                       help_text=<span class="string">u"主内容"</span>,</div><div class="line">                       verbose_name=<span class="string">u"页面主体"</span>)</div><div class="line"></div><div class="line">    search_fields = Page.search_fields + [</div><div class="line">        <span class="comment"># index.SearchField('title'), # 不能有title，否则elasticsearch Map出错</span></div><div class="line">        index.SearchField(<span class="string">'subtitle'</span>),</div><div class="line">        index.SearchField(<span class="string">'body'</span>),</div><div class="line">    ]</div><div class="line"></div><div class="line">    content_panels = Page.content_panels + [</div><div class="line">        MultiFieldPanel([</div><div class="line">            FieldPanel(<span class="string">'date'</span>),</div><div class="line">            FieldPanel(<span class="string">'tags'</span>),</div><div class="line">            FieldPanel(<span class="string">'author'</span>),</div><div class="line">        ], heading=<span class="string">u"基本信息"</span>),</div><div class="line">        FieldPanel(<span class="string">'subtitle'</span>, classname=<span class="string">"full"</span>),</div><div class="line">        StreamFieldPanel(<span class="string">'body'</span>),</div><div class="line">        InlinePanel(<span class="string">'related_links'</span>, label=<span class="string">"底部相关链接"</span>),</div><div class="line">    ]</div><div class="line"></div><div class="line"><span class="meta">    @property</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_tags</span><span class="params">(self)</span>:</span></div><div class="line">        tags = self.tags.all()</div><div class="line">        prefix = WikiTagPage.objects.first().url + <span class="string">'?tag='</span></div><div class="line">        <span class="comment"># prefix = self.get_parent().url + '?tag='</span></div><div class="line">        <span class="keyword">for</span> tag, color <span class="keyword">in</span> zip(tags, [</div><div class="line">            <span class="string">'#5aba59'</span>, <span class="string">'#4d85d1'</span>, <span class="string">'#df2d4f'</span>, <span class="string">'#8156a7'</span>, <span class="string">'#999'</span>,</div><div class="line">            <span class="string">'#5aba59'</span>, <span class="string">'#4d85d1'</span>, <span class="string">'#df2d4f'</span>, <span class="string">'#8156a7'</span>, <span class="string">'#999'</span>,</div><div class="line">        ]):</div><div class="line">            tag.url = prefix + tag.name</div><div class="line">            tag.color = color</div><div class="line">        <span class="keyword">return</span> tags</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_context</span><span class="params">(self, request)</span>:</span></div><div class="line">        <span class="string">'''</span></div><div class="line"><span class="string">        添加左侧目录链接的上下文，以snippets形式注册并可在admin修改</span></div><div class="line"><span class="string">        '''</span></div><div class="line">        context = super(WikiPage, self).get_context(request)</div><div class="line">        menus = Menu.objects.all()</div><div class="line">        context[<span class="string">'menus'</span>] = menus</div><div class="line">        <span class="keyword">return</span> context</div><div class="line"></div><div class="line">    parent_page_types = [<span class="string">'WikiHome'</span>, <span class="string">'WikiTagPage'</span>]</div><div class="line">    subpage_types = []</div><div class="line"></div><div class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Meta</span>:</span></div><div class="line">        verbose_name = <span class="string">u'校园百科内容页'</span></div><div class="line">        verbose_name_plural = verbose_name</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment"># --------------------------------标签页面--------------------------</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">WikiTagPage</span><span class="params">(Page)</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_context</span><span class="params">(self, request)</span>:</span></div><div class="line">        <span class="comment"># 通过tag来获得数据库中的内容</span></div><div class="line">        tag = request.GET.get(<span class="string">'tag'</span>, <span class="keyword">None</span>)</div><div class="line">        <span class="keyword">if</span> tag <span class="keyword">is</span> <span class="keyword">None</span>:</div><div class="line">            tag = Tag.objects.first().name</div><div class="line">            <span class="comment"># redirect(WikiHome.objects.first().url)</span></div><div class="line">        wikipages = WikiPage.objects.filter(tags__name=tag).live(</div><div class="line">        ).order_by(<span class="string">'-date'</span>)</div><div class="line"></div><div class="line">        <span class="comment"># Update template context</span></div><div class="line">        context = super(WikiTagPage, self).get_context(request)</div><div class="line">        context[<span class="string">'tag'</span>] = tag</div><div class="line">        context[<span class="string">'wikipages'</span>] = wikipages</div><div class="line">        <span class="comment"># add bottom menus</span></div><div class="line">        menus = Menu.objects.all()</div><div class="line">        context[<span class="string">'menus'</span>] = menus</div><div class="line">        <span class="keyword">return</span> context</div><div class="line"></div><div class="line"><span class="meta">    @property</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">all_tags</span><span class="params">(self)</span>:</span></div><div class="line">        tags = Tag.objects.all()</div><div class="line">        prefix = self.url + <span class="string">'?tag='</span></div><div class="line">        <span class="comment"># prefix = self.get_parent().url + '?tag='</span></div><div class="line">        <span class="keyword">for</span> tag <span class="keyword">in</span> tags:</div><div class="line">            tag.url = prefix + tag.name</div><div class="line">        <span class="keyword">return</span> tags</div><div class="line"></div><div class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Meta</span>:</span></div><div class="line">        verbose_name = <span class="string">u'校园百科标签页'</span></div><div class="line">        verbose_name_plural = verbose_name</div></pre></td></tr></table></figure>
<p>代码比较长，这里简单讲讲部分代码</p>
<p>看到WikiHome类，该类对于的前端模板就是wiki/templates/wiki/wiki_home.html，有5个元素，分别是logoname（logo名称）、image首页大图片、intro简单的介绍还有两个通过外链的形式添加到WikiHome这个类中</p>
<p>这些元素都添加到content_panels这个变量中，变量名称是固定的，WikiHome继承Page，在Page类中就有content_panels这个变量，这个变量表示wagtail要显示的内容，wagtail会自动根据这个变量来显示相应的后端布局，你不用写任何布局代码</p>
<p>然后重写了Meta类，自定义了一下WikiHome要显示的名字</p>
<p>前面提了，有两个元素通过外链的形式导入，这里就是WikiHomeTopLink类和WikiHomeLittleIntros类，都通过ParentalKey字段进行导入（wagtail独有的字段），然后在父类中，也就是WikiHome中使用其related_name属性的值进行调用，子类要显示的内容，通过panels变量来声明</p>
<p>接着看到WikiPage类，这个类的构造其实更WikiHome类似，这里需要提一下的是，使用search_fields变量，声明了需要搜索的内容，我们将副标题和维基的内容都作为搜索内容，只要这样简单的声明一下则可</p>
<p>需要注意的是，这里的body字段表示维基百科的具体内容，我们使用了自定义的BaseStreamBlock类，该类其实就是将我们自定义的各种Block进行了一个简单的整合，代码在blocks.py中，后面会讲这段代码</p>
<p>接着我们使用了@property这个装饰器，将get_tags()方法转为WikiHome类中的属性，这样我们就可以像调用类的属性那样直接使用get——tags()方法，该方法其实用于获得页面的tags（标签）</p>
<p>然后就是get_context()方法，在该方法中，先调用父类的get_context()方法，然后再获得Menu，Menu这个类是个片段，我们通过@register_snippet装饰器将该类设置为一个片段，我们可以通过管理界面（也就是后台）进行管理，Menu的代码写到了snippets.py中</p>
<p>最后就是WikiTagPage类，这个类的代码比较简单，看到get_context()方法，就是获得GET方法中的tag，然后通过获得的tag做数据库的搜索，并将结果按时间倒序排列</p>
<p>为了好理解，直接来看一下后台的效果图</p>
<p>WikiHome后台效果<br><img src="http://obfs4iize.bkt.clouddn.com/%E5%90%8E%E5%8F%B0%E6%95%88%E6%9E%9C.png" alt="后台效果.png"></p>
<p>WikiPage后台效果<br><img src="http://obfs4iize.bkt.clouddn.com/%E6%A0%A1%E5%9B%AD%E8%AF%A6%E6%83%85%E9%A1%B5.png" alt="校园详情页.png"></p>
<p>WikiTagPage后台效果<br><img src="http://obfs4iize.bkt.clouddn.com/%E6%A0%87%E7%AD%BE%E9%A1%B5%E6%95%88%E6%9E%9C.png" alt="标签页效果.png"></p>
<p>创建页面后台效果<br><img src="http://obfs4iize.bkt.clouddn.com/%E5%88%9B%E5%BB%BA%E7%95%8C%E9%9D%A2.png" alt="创建界面.png"></p>
<p>接着来看一下snippets.py</p>
<p>wiki/snippets.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> wagtail.wagtailsnippets.models <span class="keyword">import</span> register_snippet</div><div class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</div><div class="line"><span class="keyword">from</span> wagtail.wagtailcore.fields <span class="keyword">import</span> RichTextField</div><div class="line"><span class="keyword">from</span> wagtail.wagtailadmin.edit_handlers <span class="keyword">import</span> FieldPanel</div><div class="line"></div><div class="line"></div><div class="line"><span class="meta">@register_snippet</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">FooterText</span><span class="params">(models.Model)</span>:</span></div><div class="line">    <span class="comment"># 富文本</span></div><div class="line">    body = RichTextField()</div><div class="line"></div><div class="line">    panels = [</div><div class="line">        FieldPanel(<span class="string">'body'</span>),</div><div class="line">    ]</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="keyword">return</span> <span class="string">u"页面最底部文本 - 限单条"</span></div><div class="line"></div><div class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Meta</span>:</span></div><div class="line">        verbose_name_plural = <span class="string">u'页面最底部文本'</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="meta">@register_snippet</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Menu</span><span class="params">(models.Model)</span>:</span></div><div class="line">    text = models.CharField(max_length=<span class="number">255</span>)</div><div class="line">    url = models.URLField(null=<span class="keyword">True</span>, blank=<span class="keyword">True</span>)</div><div class="line"></div><div class="line">    panels = [</div><div class="line">        FieldPanel(<span class="string">'url'</span>),</div><div class="line">        FieldPanel(<span class="string">'text'</span>),</div><div class="line">    ]</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="keyword">return</span> self.text</div><div class="line"></div><div class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Meta</span>:</span></div><div class="line">        verbose_name_plural = <span class="string">u'维基单页面左侧链接'</span></div></pre></td></tr></table></figure>
<p>这个python文件代码非常简单，两个类都使用了@register_snippet装饰器，这两个类就会成为一个片段，可以加到任意界面，这里所谓的加入任意界面是你代码中引入了，而不是通过后台设置</p>
<p><img src="http://obfs4iize.bkt.clouddn.com/wagtail%E7%89%87%E6%AE%B5.png" alt="wagtail片段.png"></p>
<p>这篇就到这里，后面一篇接着写</p>

    

    
</div>


                

                <!-- Post Comments -->
                
                    
                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2017/09/13/python快速搭建个人wiki-2/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2017/09/05/win10下py2和py3完美共存/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/avatar.png" alt="ayuLiao's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        myemailliao@gmail.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="myemailliao@gmail.com" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2018/07/">七月 2018<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/06/">六月 2018<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/05/">五月 2018<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/04/">四月 2018<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/03/">三月 2018<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/02/">二月 2018<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/01/">一月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/12/">十二月 2017<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/11/">十一月 2017<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/09/">九月 2017<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/08/">八月 2017<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/07/">七月 2017<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/06/">六月 2017<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/05/">五月 2017<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/03/">三月 2017<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/02/">二月 2017<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/09/">九月 2016<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/08/">八月 2016<span class="sidebar_archives-count">7</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/07/">七月 2016<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/06/">六月 2016<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/05/">五月 2016<span class="sidebar_archives-count">1</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    

    <!-- Pages  -->
    
        <li>
            <a href="/tags" title="标签">
                
                    <i class="material-icons sidebar-material-icons">label</i>
                
                标签
            </a>
        </li>
        
    
        <li>
            <a href="/timeline" title="时间轴">
                
                    <i class="material-icons sidebar-material-icons">timeline</i>
                
                时间轴
            </a>
        </li>
        
    

    <!-- Article Number  -->
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->


<!-- Theme Material -->


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    

    <!-- Facebook -->
    

    <!-- Google + -->
    
        <a href="https://www.google.com/" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-gplus">
                <span class="visuallyhidden">Google Plus</span>
            </button><!--
     --></a>
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    
        <a href="https://www.github.com/ayuliao" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-github">
                <span class="visuallyhidden">Github</span>
            </button><!--
     --></a>
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;2016&nbsp;-<script type="text/javascript">var fd = new Date();document.write("&nbsp;" + fd.getFullYear() + "&nbsp;");</script>ayuLiao
            <div>
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
        <div>
        本站总访问量 <span id="busuanzi_value_site_pv"></span> &nbsp&nbsp&nbsp
        你是第<span id="busuanzi_value_site_uv"></span>个来到的小伙伴
        </div>
        </div>
        </div>

        <!-- Paradox Footer Right Section -->

        

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import File -->


    <script>lsloader.load("js/lazyload.min.js","/js/lazyload.min.js?wgjW/HuQG9JDgvPDPoRAng==")</script>
    <script>lsloader.load("js/js.min.js","/js/js.min.js?oAl/+lvaqTFV31JXTmbrNA==")</script>



    <script>lsloader.load("js/nprogress.js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==")</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>



    
        <script>lsloader.load("js/smoothscroll.js","/js/smoothscroll.js?tNQK2Tw2SUL8a1Scn/Mgew==")</script>
    











<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Window Load-->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });
</script>

<!-- MathJax Load-->

<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Bing Background -->


<script>
    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.4.0 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config("");
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="custom_mathjax_source">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
        </body>
    
</html>
